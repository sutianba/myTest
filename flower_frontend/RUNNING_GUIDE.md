# 花卉识别系统运行指南

## 系统概述
花卉识别系统是一个基于YOLOv5的前端+后端应用，能够识别图片中的花卉种类、拍摄日期和位置信息。

## 运行步骤

### 1. 安装依赖

确保已安装以下依赖：
- Python 3.13
- PyTorch 2.9.1+cpu
- Flask 及相关库
- PIL (Pillow)
- exifread
- geopy

如果缺少依赖，可以运行：
```bash
pip install -r requirements.txt
```

### 2. 启动后端服务

在命令行中执行以下命令启动后端服务：

```bash
cd d:\BS\源码\My_yolov5-main\myTest\flower_frontend
python app.py
```

服务将启动在：
- 本地地址：http://127.0.0.1:5000
- 网络地址：http://10.3.27.42:5000

### 3. 访问前端页面

在浏览器中打开以下地址访问前端页面：
```
http://127.0.0.1:5000
```

### 4. 使用系统功能

1. **上传图片**：点击"选择图片"按钮上传花卉图片
2. **开始识别**：点击"识别花卉"按钮开始识别
3. **查看结果**：识别完成后，页面将显示：
   - 花卉种类名称
   - 识别置信度
   - 拍摄日期
   - 拍摄位置（如果图片有GPS信息）

## 系统功能

- ✅ 支持单张和多张图片识别
- ✅ 花卉种类识别（使用YOLOv5模型）
- ✅ 拍摄日期提取
- ✅ GPS位置信息提取和地址转换
- ✅ 相机型号信息提取

## 可能遇到的问题及解决方案

### 问题1：PyTorch导入失败
**错误信息**：无法加载c10.dll或其依赖项

**解决方案**：
1. 下载并安装Visual C++ Redistributable 2019-2022 x64版本
   下载地址：https://aka.ms/vs/17/release/vc_redist.x64.exe
2. 安装完成后重新启动计算机

### 问题2：模型加载失败
**错误信息**：无法加载YOLOv5模型

**解决方案**：
1. 检查`../testflowers.pt`模型文件是否存在
2. 确保PyTorch安装正确

### 问题3：端口5000已被占用
**解决方案**：
1. 查找占用5000端口的进程：
   ```bash
   netstat -ano | findstr :5000
   ```
2. 结束占用端口的进程：
   ```bash
   taskkill /PID <进程ID> /F
   ```

## 示例图片

系统包含示例图片，位于：
`d:\BS\源码\My_yolov5-main\myTest\Example_IMG\`

您可以使用这些图片进行测试。

现在，您可以按照以上步骤启动并使用花卉识别系统了！